defaults:
  - _self_

simulation:
  rounds: 15 
  n_clients: 10
  fraction: 1.0
  partition_method: "iid"
  alpha: 0.5

client:
  epochs: 5  # FL: Use 3-5 local epochs per round (not 30!)
  lr: 0.001  # M12: Lower learning rate for Adam
  batch_size: 512  # M12: Standard batch size
  device: "cuda"
  
  # M12 Configuration
  use_class_weights: true
  weight_method: "sqrt"  # 'sqrt' (moderate) or 'inverse' (aggressive)
  use_scheduler: false  # Disable for FL - too few local epochs
  early_stopping_patience: 3  # Keep for safety, but unlikely to trigger with 5 epochs

server:
  defense: "avg"   # "avg", "median", "trimmed_mean", "krum"
                    # if you use "krum" --> update the # of malicious clients in server.py, default value = 1

data:
  path: "data/unsw-nb15/processed/train_pool.pt"
  classification_mode: "multiclass"  # Multiclass mode: 10 classes (Normal + 9 attack types)

# W&B Configuration (tags auto-generated from config)
tags: []

#ðŸ˜ˆ RED TEAM SECTION
attack:
  type: "clean"   # Options: clean, backdoor, label_flip
  poison_ratio: 0.3
  trigger_feat_idx: 0
  trigger_value: 5.0
  target_label: 0  # For multiclass: 0=Normal, 1-9=Attack types
  source_label: 3  # Only used for label_flip (specific attack type)
  flip_to_label: 0 # Flip specific attack â†’ Normal
  
  aggressive: true         # Enable Model Replacement
  estimated_n_clients: 40  # Scaling Factor (Must match n_clients for full effect)

  # How many attackers?
  num_malicious_clients: 4  # Example: 10% of the network (4 out of 40)
